import{P as b}from"./page.9e32eb01.js";import{I as g}from"./config.cf290669.js";import{m as y}from"./user.b18eb6a3.js";import{P as v}from"./PageTitle.0e094796.js";import{o as _,a as p,b as e,t as n,h as w,e as o,F as f,w as d,f as A,d as I}from"./index_prod.8930dbb5.js";import{_ as k}from"./Index.3e1ae4de.js";import{M as P,i as l,a as m}from"./ComponentResolver.ed939823.js";import{_ as c}from"./Input.7ebd18be.js";import"./Value.ef06df75.js";var u=new P({form:{type:{value:(s,t)=>"message",type:l.select,options:{items:s=>s.booted.helpers.iterator.get(s.booted.enums.user_notification.type,"*.label")},size:m.xl},message:{type:l.textarea,size:m.xl,attributes:{rows:10}}}});const S=["data-target"],T=["id"],q={class:"modal-dialog modal-lg"},x={class:"modal-content"},F={class:"modal-header"},j={class:"modal-title"},z=e("button",{type:"button",class:"close","data-dismiss":"modal"},"\xD7",-1),B={class:"modal-body"},C={class:"d-none"},D={class:"modal-footer"},M={type:"submit",class:"btn btn-success btn-block",form:"user-notification-create-form"},N={data(){return{id:"el-"+this.booted.helpers.string.uniqueId(),inputs:u.prepareInputs(this,u.form)}},methods:{submit(s){let t=new FormData(s.target),a=location.search,r=Array.from(document.querySelectorAll(".crud-index-data tbody .selection:checked"),i=>parseInt(i.value));r.length>0&&(a=[],r.forEach((i,h)=>{a[h]="filter[id][]="+i}),a="?"+a.join("&")),t.append("user_query",a),this.booted.helpers.http.send(this,{method:"POST",path:"user/notification",body:t}).then(i=>{i.statusType==="success"&&(toastr.success(this.__("\u0423\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u0432 \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043C\u044F")),$("#"+this.id).modal("hide"),$('#user-notification-create-form [name="message"]').val(""))})}}},O=Object.assign(N,{name:"Create",setup(s){return(t,a)=>(_(),p(f,null,[e("button",{type:"button",class:"btn btn-warning","data-toggle":"modal","data-target":"#"+t.id},n(t.__("\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F")),9,S),e("div",{class:"modal fade",id:t.id},[e("div",q,[e("div",x,[e("form",{onSubmit:a[0]||(a[0]=w((...r)=>t.submit&&t.submit(...r),["prevent"])),id:"user-notification-create-form"},[e("div",F,[e("h4",j,n(t.__("\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F")),1),z]),e("div",B,[e("div",C,[o(c,{item:t.inputs.type},null,8,["item"])]),o(c,{item:t.inputs.message},null,8,["item"])]),e("div",D,[e("button",M,n(t.__("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C")),1)])],32)])])],8,T)],64))}}),V={data(){return{page:new b({context:this,title:this.__("\u041A\u043E\u043C\u0438\u0441\u0441\u0438\u043E\u043D\u0435\u0440\u044B")}),config:new g({model:y,http:{path:"user/user",query:{"filter[role]":"owner"}},actions:["show","updateAlt","delete","restore"],extraActions:{updateAlt:s=>({path:"user/user/"+s.id.value+"/update",linkAttributes:{title:this.__("\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"),class:"btn btn-warning"},iconAttributes:{class:"fas fa-edit"}})},selectionActions:["empty"],gridHiddenFields:["role_raw","deleted_at"]})}}},W=Object.assign(V,{name:"Index",setup(s){return(t,a)=>(_(),p(f,null,[o(v,{text:t.page.title},{default:d(()=>[o(O),o(A,{to:"user/user/create",class:"btn btn-success"},{default:d(()=>[I(n(t.__("\u0421\u043E\u0437\u0434\u0430\u0442\u044C")),1)]),_:1})]),_:1},8,["text"]),o(k)],64))}});export{W as default};
