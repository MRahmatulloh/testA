import{o as p,a as _,b as e,t as n,h,e as r,F as f}from"./index_prod.ad546ee9.js";import{M as b,i as d,a as l}from"./ComponentResolver.bf719651.js";import{_ as m}from"./Input.ea79405c.js";var c=new b({form:{type:{value:(o,t)=>"message",type:d.select,options:{items:o=>o.booted.helpers.iterator.get(o.booted.enums.user_notification.type,"*.label")},size:l.xl},message:{type:d.textarea,size:l.xl,attributes:{rows:10}}}});const g=["data-target"],y=["id"],v={class:"modal-dialog modal-lg"},w={class:"modal-content"},S={class:"modal-header"},k={class:"modal-title"},q=e("button",{type:"button",class:"close","data-dismiss":"modal"},"\xD7",-1),z={class:"modal-body"},B={class:"d-none"},D={class:"modal-footer"},F={type:"submit",class:"btn btn-success btn-block",form:"user-notification-create-form"},I={data(){return{id:"el-"+this.booted.helpers.string.uniqueId(),inputs:c.prepareInputs(this,c.form)}},methods:{submit(o){let t=new FormData(o.target),s=location.search,i=Array.from(document.querySelectorAll(".crud-index-data tbody .selection:checked"),a=>parseInt(a.value));i.length>0&&(s=[],i.forEach((a,u)=>{s[u]="filter[id][]="+a}),s="?"+s.join("&")),t.append("user_query",s),this.booted.helpers.http.send(this,{method:"POST",path:"user/notification",body:t}).then(a=>{a.statusType==="success"&&(toastr.success(this.__("\u0423\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u0432 \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043C\u044F")),$("#"+this.id).modal("hide"),$('#user-notification-create-form [name="message"]').val(""))})}}},A=Object.assign(I,{name:"Create",setup(o){return(t,s)=>(p(),_(f,null,[e("button",{type:"button",class:"btn btn-warning","data-toggle":"modal","data-target":"#"+t.id},n(t.__("\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F")),9,g),e("div",{class:"modal fade",id:t.id},[e("div",v,[e("div",w,[e("form",{onSubmit:s[0]||(s[0]=h((...i)=>t.submit&&t.submit(...i),["prevent"])),id:"user-notification-create-form"},[e("div",S,[e("h4",k,n(t.__("\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F")),1),q]),e("div",z,[e("div",B,[r(m,{item:t.inputs.type},null,8,["item"])]),r(m,{item:t.inputs.message},null,8,["item"])]),e("div",D,[e("button",F,n(t.__("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C")),1)])],32)])])],8,y)],64))}});export{A as _};
