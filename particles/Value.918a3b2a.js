import{v as a,_ as g}from"./ComponentResolver.63465924.js";import{_ as v,o as t,a as i,F as l,j as d,t as o,m as f,b,e as V,i as p,d as k,c as h}from"./index_prod.8ede452c.js";const w={inheritAttrs:!1,props:{item:{type:Object,required:!0},id:{required:!0}},data(){return{currentValue:this.item.options.isBoolean?this.item.value?1:0:this.item.value,items:{}}},created(){typeof this.item.options.items=="function"?this.items=this.item.options.items(this,this.currentValue):this.items=this.item.options.items},methods:{send(){let e=$("#"+this.item.id).val(),s=this.item.options.path.replace(":id",this.id).replace(":value",e);this.booted.helpers.http.send(this,{method:"PATCH",path:s}).then(n=>{n.statusType==="success"?(this.currentValue=e,this.item.options.onSuccess&&this.item.options.onSuccess(this,this.currentValue)):$("#"+this.item.id).val(this.currentValue)})}}},S=["id","value"],j=["value"];function T(e,s,n,r,u,c){return t(),i("select",f({onChange:s[0]||(s[0]=(...m)=>c.send&&c.send(...m)),class:"form-control",id:n.item.id,value:u.currentValue},n.item.attributes),[(t(!0),i(l,null,d(u.items,(m,y)=>(t(),i("option",{value:y},o(m),9,j))),256))],16,S)}var q=v(w,[["render",T]]);const O={inheritAttrs:!1,props:{item:{type:Object,required:!0},id:{required:!0}},data(){return{currentValue:this.item.options.isBoolean?this.item.value?1:0:this.item.value,items:{}}},created(){typeof this.item.options.items=="function"?this.items=this.item.options.items(this,this.currentValue):this.items=this.item.options.items},methods:{send(){let e=$("#"+this.item.id).val(),s=this.item.options.path.replace(":id",this.id).replace(":value",e),n=new FormData;n.append(this.item.options.element,e),this.booted.helpers.http.send(this,{method:"POST",path:s,query:{_method:"PUT",method_field:"PUT"},body:n}).then(r=>{r.statusType==="success"?(this.currentValue=e,toastr.success("\u0417\u0430\u043F\u0438\u0441\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0430"),this.item.options.onSuccess&&this.item.options.onSuccess(this,this.currentValue)):($("#"+this.item.id).val(this.currentValue),toastr.error("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435 \u0437\u0430\u043F\u0438\u0441\u0438"))})}}},H=["id","value"],C=["value"];function N(e,s,n,r,u,c){return t(),i("select",f({onChange:s[0]||(s[0]=(...m)=>c.send&&c.send(...m)),class:"form-control",id:n.item.id,value:u.currentValue},n.item.attributes),[(t(!0),i(l,null,d(u.items,(m,y)=>(t(),i("option",{value:y},o(m),9,C))),256))],16,H)}var B=v(O,[["render",N]]);const L={inheritAttrs:!1,props:{item:{type:Object,required:!0},id:{required:!0}},data(){return{currentValue:this.item.value}},mounted(){$("#"+this.item.id).bootstrapSwitch("state",$("#"+this.item.id).prop("checked")),$("#"+this.item.id).on("switchChange.bootstrapSwitch",(e,s)=>{let n=this.item.options.path.replace(":id",this.id).replace(":value",s?1:0);this.booted.helpers.http.send(this,{method:"PATCH",path:n}).then(r=>{r.statusType==="success"?(this.currentValue=s,this.item.options.onSuccess&&this.item.options.onSuccess(this,this.currentValue),toastr.success("\u0417\u0430\u043F\u0438\u0441\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0430")):($("#"+this.item.id).bootstrapSwitch("state",this.currentValue,!0),toastr.error("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435 \u0437\u0430\u043F\u0438\u0441\u0438"))})})}},P=["id","checked"];function A(e,s,n,r,u,c){return t(),i("input",f({type:"checkbox"},n.item.attributes,{id:n.item.id,checked:u.currentValue,"data-bootstrap-switch":"","data-on-text":"<i class='fas fa-check'></i>","data-off-text":"<i class='fas fa-times'></i>","data-on-color":"success","data-off-color":"danger"}),null,16,P)}var U=v(L,[["render",A]]);const F={key:0},G={props:{item:{type:Object,required:!0},id:{required:!0}},data(){return{model:this.booted.components.current.config.model,itemGroups:{}}},created(){for(let e in this.item.value)this.itemGroups[e]=this.model.prepareValues(this,this.item.options.fields,this.item.value[e])}},M=Object.assign(G,{name:"Relations",setup(e){return(s,n)=>(t(!0),i(l,null,d(s.itemGroups,(r,u)=>(t(),i(l,null,[(t(!0),i(l,null,d(r,c=>(t(),i("div",null,[b("i",null,o(c.label)+": ",1),V(ie,{item:c,id:e.id},null,8,["item","id"])]))),256)),u<Object.keys(s.itemGroups).length-1?(t(),i("hr",F)):p("",!0)],64))),256))}}),x={props:{item:{type:Object,required:!0}},mounted(){$("#"+this.item.id).owlCarousel({loop:!1,responsiveClass:!0,autoHeight:!1,margin:10,responsive:{0:{items:1},600:{items:3},1e3:{items:5}}})}},D=["id"],I=["src"];function R(e,s,n,r,u,c){return t(),i("div",{id:n.item.id,class:"owl-carousel"},[(t(!0),i(l,null,d(n.item.value,m=>(t(),i("img",f({src:m},n.item.attributes),null,16,I))),256))],8,D)}var E=v(x,[["render",R]]);const J=["href"],z=["href"],K=["innerHTML"],Q=["src"],W=["innerHTML"],X={class:"col-10"},Y={class:"col-2"},Z=["href"],_={key:13,style:{"white-space":"pre-wrap"}},ee=["href"],te={props:{item:{type:Object,required:!0},id:{required:!0}},created(){this.item.id="el-"+this.booted.helpers.string.uniqueId(),this.item.attributes=typeof this.item.attributes=="function"?this.item.attributes(this):this.item.attributes}},ie=Object.assign(te,{name:"Value",setup(e){return(s,n)=>e.item.type===a.array?(t(!0),i(l,{key:0},d(e.item.value,r=>(t(),i("div",null,o(r),1))),256)):e.item.type===a.boolean?(t(),i(l,{key:1},[k(o(e.item.value?s.__("\u0414\u0430"):s.__("\u041D\u0435\u0442")),1)],64)):e.item.type===a.component?(t(),h(g,{key:2,resolve:e.item.options.resolve(s.booted.components.current,e.item)},null,8,["resolve"])):e.item.type===a.link?(t(),i(l,{key:3},[typeof e.item.value=="object"?(t(!0),i(l,{key:0},d(e.item.value,(r,u)=>(t(),i("a",{href:r,target:"_blank",class:"d-block"},o(s.__("\u0421\u0441\u044B\u043B\u043A\u0430 \u2116:index",{index:u+1})),9,J))),256)):(t(),i("a",{key:1,href:e.item.value,target:"_blank"},o(s.__("\u0421\u0441\u044B\u043B\u043A\u0430")),9,z))],64)):e.item.type===a.html?(t(),i("div",{key:4,innerHTML:e.item.value},null,8,K)):e.item.type===a.httpSelect?(t(),h(q,{key:5,item:e.item,id:e.id},null,8,["item","id"])):e.item.type===a.httpSelectNew?(t(),h(B,{key:6,item:e.item,id:e.id},null,8,["item","id"])):e.item.type===a.httpSwitcher?(t(),h(U,{key:7,item:e.item,id:e.id},null,8,["item","id"])):e.item.type===a.image?(t(),i(l,{key:8},[typeof e.item.value=="object"?(t(),h(E,{key:0,item:e.item},null,8,["item"])):(t(),i("img",f({key:1,src:e.item.value},e.item.attributes),null,16,Q))],64)):e.item.type===a.json?(t(),i("pre",{key:9,innerHTML:JSON.stringify(e.item.value,null,2)},null,8,W)):e.item.type===a.worker?(t(),i(l,{key:10},[(t(!0),i(l,null,d(e.item.value,(r,u)=>(t(),i("div",{key:u,class:"row"},[b("div",X,o(s.booted.enums.user.role[r.role].label),1),b("div",Y,o(r.count),1)]))),128)),typeof e.item.value[0]=="object"?(t(),i("a",{key:0,href:s.booted.config.http.websiteUrl+"/"+s.booted.locale+"/"+e.item.options.path.replace(":value",e.item.value[0].card_number),target:"_blank",class:"d-block text-center"},o(s.__("\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u043E")),9,Z)):p("",!0)],64)):e.item.type===a.price?(t(),i(l,{key:11},[k(o(e.item.value!==null?new Intl.NumberFormat("ru-RU").format(e.item.value).replace(",","."):null),1)],64)):e.item.type===a.relations?(t(),h(M,{key:12,item:e.item,id:e.id},null,8,["item","id"])):e.item.type===a.text?(t(),i("span",_,o(e.item.value),1)):e.item.type===a.websiteLink?(t(),i("a",{key:14,href:s.booted.config.http.websiteUrl+"/"+s.booted.locale+"/"+e.item.options.path.replace(":value",e.item.value),target:"_blank"},o(e.item.value),9,ee)):p("",!0)}});export{ie as _};
